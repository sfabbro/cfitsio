--- a/Makefile.in
+++ b/Makefile.in
@@ -63,9 +63,7 @@
 		pliocomp.c fits_hcompress.c fits_hdecompress.c \
 		simplerng.c
 
-ZLIB_SOURCES =	zlib/adler32.c zlib/crc32.c zlib/deflate.c zlib/infback.c \
-		zlib/inffast.c zlib/inflate.c zlib/inftrees.c zlib/trees.c \
-		zlib/uncompr.c zlib/zcompress.c zlib/zuncompress.c zlib/zutil.c
+ZLIB_SOURCES =	zlib/zcompress.c zlib/zuncompress.c
 
 SOURCES = ${CORE_SOURCES} ${ZLIB_SOURCES} @F77_WRAPPERS@
 
@@ -98,7 +96,7 @@
 shared: libcfitsio${SHLIB_SUFFIX}
 
 libcfitsio${SHLIB_SUFFIX}: ${OBJECTS}
-		${SHLIB_LD} ${LDFLAGS} -o ${CFITSIO_SHLIB} ${OBJECTS} -lm ${LIBS}
+		${SHLIB_LD} ${LDFLAGS} -o ${CFITSIO_SHLIB} ${OBJECTS} -lm -lz ${LIBS}
 		@if [ "x${CFITSIO_SHLIB_SONAME}" != x ]; then \
 			ln -sf ${CFITSIO_SHLIB} ${CFITSIO_SHLIB_SONAME}; \
 			ln -sf ${CFITSIO_SHLIB_SONAME} $@; \
@@ -116,31 +114,31 @@
 		$(CC) -c $(CFLAGS) $(SSE_FLAGS) $(DEFS) $<
 
 smem:		smem.o libcfitsio.a ${OBJECTS}
-		${CC} $(LDFLAGS) $(DEFS) -o smem smem.o -L. -lcfitsio -lm
+		${CC} $(LDFLAGS) $(DEFS) -o smem smem.o -L. -lcfitsio -lm -lz
 
 testprog:	testprog.o libcfitsio.a ${OBJECTS}
-		${CC} $(LDFLAGS) $(DEFS) -o testprog testprog.o -L. -lcfitsio -lm ${LIBS}
+		${CC} $(LDFLAGS) $(DEFS) -o testprog testprog.o -L. -lcfitsio -lm -lz ${LIBS}
 
 fpack:		fpack.o fpackutil.o libcfitsio.a ${OBJECTS}
-		${CC} $(LDFLAGS) $(DEFS) -o fpack fpack.o fpackutil.o libcfitsio.a -lm ${LIBS}
+		${CC} $(LDFLAGS) $(DEFS) -o fpack fpack.o fpackutil.o libcfitsio.a -lm -lz ${LIBS}
 
 funpack:	funpack.o fpackutil.o libcfitsio.a ${OBJECTS}
-		${CC} $(LDFLAGS) $(DEFS) -o funpack funpack.o fpackutil.o libcfitsio.a -lm ${LIBS}
+		${CC} $(LDFLAGS) $(DEFS) -o funpack funpack.o fpackutil.o libcfitsio.a -lm -lz ${LIBS}
 
 fitscopy:	fitscopy.o libcfitsio.a ${OBJECTS}
-		${CC} $(LDFLAGS) $(DEFS) -o fitscopy fitscopy.o -L. -lcfitsio -lm ${LIBS}
+		${CC} $(LDFLAGS) $(DEFS) -o fitscopy fitscopy.o -L. -lcfitsio -lm -lz ${LIBS}
 
 speed:		speed.o libcfitsio.a ${OBJECTS}
-		${CC} $(LDFLAGS) $(DEFS) -o speed speed.o -L. -lcfitsio -lm ${LIBS}
+		${CC} $(LDFLAGS) $(DEFS) -o speed speed.o -L. -lcfitsio -lm -lz ${LIBS}
 
 imcopy:		imcopy.o libcfitsio.a ${OBJECTS}
-		${CC} $(LDFLAGS) $(DEFS) -o imcopy imcopy.o -L. -lcfitsio -lm ${LIBS}
+		${CC} $(LDFLAGS) $(DEFS) -o imcopy imcopy.o -L. -lcfitsio -lm -lz ${LIBS}
 
 listhead:	listhead.o libcfitsio.a ${OBJECTS}
-		${CC} $(LDFLAGS) $(DEFS) -o listhead listhead.o -L. -lcfitsio -lm ${LIBS}
+		${CC} $(LDFLAGS) $(DEFS) -o listhead listhead.o -L. -lcfitsio -lm -lz ${LIBS}
 
 cookbook:	cookbook.o libcfitsio.a ${OBJECTS}
-		${CC} $(LDFLAGS) $(DEFS) -o cookbook cookbook.o -L. -lcfitsio -lm ${LIBS}
+		${CC} $(LDFLAGS) $(DEFS) -o cookbook cookbook.o -L. -lcfitsio -lm -lz ${LIBS}
 
 eval:		# Rebuild eval_* files from flex/bison source
 		$(FLEX) -t eval.l > eval_l.c1
--- a/cfitsio.pc.in
+++ b/cfitsio.pc.in
@@ -7,5 +7,5 @@
 Description: FITS File Subroutine Library
 Version: @CFITSIO_MAJOR@.@CFITSIO_MINOR@
 Libs: -L${libdir} -lcfitsio @LIBS@
-Libs.private: -lm
+Libs.private: -lm -lz
 Cflags: -I${includedir}
--- a/zlib/zcompress.c
+++ b/zlib/zcompress.c
@@ -2,7 +2,7 @@
 #include <errno.h>
 #include <stdlib.h>
 #include <string.h>
-#include "zlib.h"  
+#include <zlib.h>
 
 #define GZBUFSIZE 115200    /* 40 FITS blocks */
 #define BUFFINCR   28800    /* 10 FITS blocks */
